<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>ampie</title>
</head>
<style>
body {
	background-color: #FFFFFF;
	font-family: Arial;
	font-size: 12px;
}
</style>
<body>
<b><font color="red">Attention! Because of security
restrictions in most cases this example will work only if you upload
files to your web server.</font></b>
<br>
<br>
<!-- saved from url=(0013)about:internet -->
<script type="text/javascript" src="../ampie/swfobject.js"></script>
<script type="text/javascript">
      // chart control functions ///////////////////////////////////
      // set data
      function setData() {
         var txt = document.getElementById("data").value;
         flashMovie.setData(txt);
      }
      // append data
      function appendData() {
         var txt = document.getElementById("data").value;
         flashMovie.appendData(txt, 0);             // appendData(data, remove_count) this function appends data to the end of current data and can remove x values from the beginning
      }      
      // reload data
      function reloadData() {
         flashMovie.reloadData();                   // you can pass new data file name: reloadData(new_data_file_name)
      }
      // reload settings
      function reloadSettings() {
         flashMovie.reloadSettings();              // you can pass new settings file name: reloadSettings(new_settings_file_name)
      }
      // reload all
      function reloadAll() {
         flashMovie.reloadAll();                   // reloadAll(new_data_file_name, new_settings_file_name)
      }
      // set param
      function setParam() {
         var param = document.getElementById("param").value;
         var value = document.getElementById("value").value;
         flashMovie.setParam(param, value);
      }
      // get param
      function getParam() {
         var param = document.getElementById("getparam").value;            
         flashMovie.getParam(param);
      } 
      // get data
      function getData() {
         flashMovie.getData();
      }   
      // export image
      function exportImage() {
         flashMovie.exportImage('../ampie/export.php'); // it is not required to pass filename here if you set it in settings file) 
      }    
      // print chart
      function print(){
         flashMovie.print();
      }
      // print chart as bitmap
      function printAsBitmap(){
         flashMovie.printAsBitmap();
      }
      
      function clickSlice(){
         var index = document.getElementById("sliceclick").value;
         flashMovie.clickSlice(index);
      }
  
      function rollOverSlice(){
         var index = document.getElementById("sliceover").value;
         flashMovie.rollOverSlice(index);
      }      
      function rollOutSlice(){
         flashMovie.rollOutSlice();
      }            
              
      // functions called from flash /////////////////////////////////////////
      // this function is called then chart is finished
      function amChartInited(chart_id){
          flashMovie = document.getElementById("ampie");
          document.getElementById("chartfinished").value = "chart " + chart_id + " is finished";           
      }      
      // return data 
      function amReturnData(chart_id, param){
          document.getElementById("data").value = unescape(param);
      }
      // return param
      function amReturnParam(chart_id, param){
          document.getElementById("returnedparam").value = unescape(param);
      }          
      // mouse over slice           
      function amSliceOver(chart_id, index, title, value, percents, color, description){
          document.getElementById("sliceover").value = index;
      }
      // mouse out           
      function amSliceOut(chart_id){
          document.getElementById("sliceover").value = "";
      }                  
      // click slice           
      function amSliceClick(chart_id, index, title, value, percents, color, description){
          document.getElementById("sliceclick").value = index;
      }      
      // error 
      function amError(chart_id, message){
          alert(message);
      }   

   // ]]>
</script>
<!-- ampie script-->
<div id="flashcontent"><strong>You need to upgrade your
Flash Player</strong></div>
<script type="text/javascript">
		// <![CDATA[		
		var so = new SWFObject("../ampie/ampie.swf", "ampie", "520", "400", "7", "#FFFFFF");
		so.addVariable("path", "../ampie/");
		so.addVariable("chart_id", "ampie");
		so.addVariable("settings_file", escape("ampie/js/ampie_settings.xml"));
		so.addVariable("data_file", escape("ampie/js/ampie_data.xml"));
		so.addVariable("preloader_color", "#999999");
		so.write("flashcontent");
		// ]]>
	</script>
<!-- end of ampie script -->
<form action="" id="myform"><input type="text" id="chartfinished">
<input type="button" value="reload Data" onclick="reloadData();" /> <input
	type="button" value="reload Settings" onclick="reloadSettings();" /> <input
	type="button" value="reload All" onclick="reloadAll();" />
<hr noshade size="1">
<input type="button" value="export image" onclick="exportImage();" /> <input
	type="button" value="print" onclick="print();" /> <input type="button"
	value="print as bitmap" onclick="printAsBitmap();" />
<hr noshade size="1">
<textarea id="data" rows="6" cols="62"></textarea><br>
<input type="button" value="Get data" onclick="getData();" /> <input
	type="button" value="Set Data" onclick="setData();" /> <input
	type="button" value="Append Data" onclick="appendData();" />
<hr noshade size="1">
Param: <input type="text" id="param" value="background.color" /> Value:
<input type="text" id="value" value="0xBBBB00" /> <input type="button"
	value="set param" onclick="setParam();" />
<hr noshade size="1">
Param: <input type="text" id="getparam" value="pie.angle">
Value: <input type="text" id="returnedparam" /> <input type="button"
	value="get param" onclick="getParam();" />
<hr noshade size="1">
Hover: <input type="text" id="sliceover" value="0" /><input
	type="button" value="roll over" onclick="rollOverSlice();" /><input
	type="button" value="roll out" onclick="rollOutSlice();" /> Click: <input
	type="text" id="sliceclick" value="1" /><input type="button"
	value="click" onclick="clickSlice();" />
</p>
</form>
</body>
</html>
